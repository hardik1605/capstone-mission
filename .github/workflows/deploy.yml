name: Docker Image Deploy

on:
  push:
    branches: [ "master" ]
  pull_request:
    branches: [ "master" ]

jobs:

  QA-deploy:
    runs-on: ubuntu-latest
    environment:
      name: Test
    steps:
    - name: Checkout code
      uses: actions/checkout@v3    
    - name: QA Deploy
      run: echo "QA Deploy Image"
    - name: Using Test Secret
      env:
        mySecret: ${{ secrets.MY_TEST_SECRET }}
    - name: Print Test Secret
      run: echo "${{ secrets.mySecret }}"

  Prod-Deploy:
    runs-on: ubuntu-latest
    environment:
      name: Prod
    steps:
    - name: Checkout code
      uses: actions/checkout@v3    
    - name: Prod Deploy
      run: echo "Prod Deploy Image"
    - name: Using Prod Secret
      env:
        mySecret: ${{ secrets.MY_PROD_SECRET }}
    - name: Print Prod Secret
      run: echo "${{ secrets.mySecret }}"
